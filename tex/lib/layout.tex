% Â© 2022 TNG Technology Consulting
%
% SPDX-License-Identifier: Apache-2.0

% Categories
\newcommand{\CategoryAccessSecrets}{access\,\&\,secrets}
\newcommand{\CategoryDelivery}{delivery}
\newcommand{\CategoryRecovery}{recovery}
\newcommand{\CategoryMonitoring}{monitoring}
\newcommand{\CategoryResources}{resources}
%
% Colors
\definecolor{ColorAccessSecrets}{HTML}{EB5C4A}
\definecolor{ColorDelivery}{HTML}{3CB7F0}
\definecolor{ColorRecovery}{HTML}{0DB080}
\definecolor{ColorMonitoring}{HTML}{F5A52B}
\definecolor{ColorResources}{HTML}{A54FC2}
\definecolor{ColorCardValues}{HTML}{FFFFFF}
\definecolor{ColorCardValuesEmph}{HTML}{000000}

%
% Icons
\newcommand{\IconAccessSecrets}{img/access_secrets.pdf}
\newcommand{\IconDelivery}{img/delivery.pdf}
\newcommand{\IconRecovery}{img/recovery.pdf}
\newcommand{\IconMonitoring}{img/monitoring.pdf}
\newcommand{\IconResources}{img/resources.pdf}
%
%
\newcommand{\emphasizeMatching}[3]{\ifthenelse{\equal{#1}{#2}}{\color{ColorCardValuesEmph}#3}{#3}}
\newcommand{\cardValue}[3]{\small \color{ColorCardValues} \emphasizeMatching{#1}{#2}{#3}}
%
% Dimensions
\pgfmathsetmacro{\cardroundingradius}{4mm}
\pgfmathsetmacro{\striproundingradius}{0mm}
\pgfmathsetmacro{\cardwidth}{7}
\pgfmathsetmacro{\cardheight}{12.1}
\pgfmathsetmacro{\textpadding}{0.75}
%
\newcommand{\stripfontsize}{\Huge}
\newcommand{\textfontsize}{\Large}
\newcommand{\category}[2]{\color{white} #1 \hspace{5mm} \rotatebox[origin=c]{-90}{#2\hspace{5mm}} \hspace{1mm}}
%
\newcommand{\valueasstring}[1]{%
  \ifthenelse{\equal{#1}{2}}{two}%
  {\ifthenelse{\equal{#1}{3}}{three}%
  {\ifthenelse{\equal{#1}{4}}{four}%
  {\ifthenelse{\equal{#1}{5}}{five}%
  {\ifthenelse{\equal{#1}{6}}{six}%
  {\ifthenelse{\equal{#1}{7}}{seven}%
  {\ifthenelse{\equal{#1}{8}}{eight}%
  {\ifthenelse{\equal{#1}{9}}{nine}%
  {\ifthenelse{\equal{#1}{10}}{ten}%
  {\ifthenelse{\equal{#1}{J}}{jack}%
  {\ifthenelse{\equal{#1}{Q}}{queen}%
  {\ifthenelse{\equal{#1}{K}}{king}%
  {\ifthenelse{\equal{#1}{A}}{ace}%
{}}}}}}}}}}}}}}
%
%
% Cards
\newcommand{\GenericCard}[5]{
    \ifthenelse{\boolean{doPrintEmptyCards} \or \not \equal{#5}{-}}
    {
      \vspace{-3cm}
      \begin{tikzpicture}[every node/.style={inner sep=0,outer sep=0}]
        % background
        \fill[fill=#2!80,rounded corners=0] (0,0) rectangle (\cardwidth,\cardheight);
        \node[text width=\cardwidth, anchor=north] at (-3.0,1.2*\cardheight) 
          {   
            \rotatebox{45}{\resizebox{!}{10cm}{\Huge \textbf{\color{#2!40} #4}}}\\
          };
        \draw[rounded corners=\cardroundingradius] (0.04*\cardwidth,0.02*\cardheight) rectangle (0.96*\cardwidth,0.98*\cardheight);
        %
        % card value
        \node[text width=(\cardwidth-2*\textpadding)*1cm,below right,inner sep=0] at (0.1*\textwidth,0.96*\cardheight) 
          {   
            \resizebox{!}{1.3cm}{\Huge\textbf{#4}}\\
            \includegraphics[width=0.18\textwidth]{#3}
          };
        \node[text width=(\cardwidth-2*\textpadding)*1cm,below right,inner sep=0] at (0.375*\textwidth,0.96*\cardheight) 
          {   
            \resizebox{!}{0.2cm}{\tiny \valueasstring{#4}/#1}\\
          };
        %
        % text
        \node[text width=(\cardwidth-2*\textpadding)*1cm,below right,inner sep=0, align=center] at (\textpadding,0.7*\cardheight) 
          {   
            {\textfontsize #5}\\
          };
        \node[text width=(0.3*\cardwidth)*1cm,below right,inner sep=0] at (\textpadding,0.45*\cardheight) 
        {   
          \cardValue{#4}{2}{\valueasstring{2}}\\
          \cardValue{#4}{3}{\valueasstring{3}}\\
          \cardValue{#4}{4}{\valueasstring{4}}\\
          \cardValue{#4}{5}{\valueasstring{5}}\\
          \cardValue{#4}{6}{\valueasstring{6}}\\
          \cardValue{#4}{7}{\valueasstring{7}}\\
          \cardValue{#4}{8}{\valueasstring{8}}\\
          \cardValue{#4}{9}{\valueasstring{9}}\\
          \cardValue{#4}{10}{\valueasstring{10}}\\
          \cardValue{#4}{J}{\valueasstring{J}}\\
          \cardValue{#4}{Q}{\valueasstring{Q}}\\
          \cardValue{#4}{K}{\valueasstring{K}}\\
          \cardValue{#4}{A}{\valueasstring{A}}
        };
        \node[text width=(0.3*\cardwidth)*1cm,below right,inner sep=0] at (0.26*\cardwidth,0.21*\cardheight) 
        {   
          \cardValue{#1}{\CategoryAccessSecrets}{\CategoryAccessSecrets}\\
          \cardValue{#1}{\CategoryDelivery}{\CategoryDelivery}\\
          \cardValue{#1}{\CategoryRecovery}{\CategoryRecovery}\\
          \cardValue{#1}{\CategoryMonitoring}{\CategoryMonitoring}\\
          \cardValue{#1}{\CategoryResources}{\CategoryResources}\\
        };
      \end{tikzpicture}
    }
    {}
}
\newcommand{\AccessSecrets}[2]{\GenericCard{\CategoryAccessSecrets}{ColorAccessSecrets}{\IconAccessSecrets}{#1}{#2}}
\newcommand{\Delivery}[2]{\GenericCard{\CategoryDelivery}{ColorDelivery}{\IconDelivery}{#1}{#2}}
\newcommand{\Recovery}[2]{\GenericCard{\CategoryRecovery}{ColorRecovery}{\IconRecovery}{#1}{#2}}
\newcommand{\Monitoring}[2]{\GenericCard{\CategoryMonitoring}{ColorMonitoring}{\IconMonitoring}{#1}{#2}}
\newcommand{\Resources}[2]{\GenericCard{\CategoryResources}{ColorResources}{\IconResources}{#1}{#2}}
